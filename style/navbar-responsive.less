/**
 * Style for responsive menu with variables in variables.less.
 *
 * @link: https://github.com/mosbth/responsive-menu
 */

 /** --------------------------------------------------------------
  * Variables for responsive menu in navbar-responsive.less.
  */

 // General
 @navbarBgColor:             #444;
 @navbarItemColor:           #eee;
 @navbarItemHoverColor:      lime;
 @navbarItemHoverBgColor:    #666;

 // Menu item current/selected
 @navbarItemSelectedColor:       darken(lime, 10%); 
 @navbarItemSelectedBgColor:     #666; 
 @navbarItemSelectedBorderColor: darken(lime, 10%);

 // Mobile button
 @navbarMobileBorderColor:               #ddd;
 @navbarMobileItemBorderColor:           #eee;
 @navbarMobileItemHoverBorderColor:      lime;

 // The menu button
 @navbarMenuButtonColor:         #333;
 @navbarMenuButtonBgColor:       transparent;
 @navbarMenuButtonBorderColor:   #999;

 // The menu button hover
 @navbarMenuButtonHoverColor:         lime;
 @navbarMenuButtonHoverBgColor:       #eee;
 @navbarMenuButtonHoverBorderColor:   #333;

 // The menu clicked
 @navbarMenuButtonClickedBorderColor:    lime;
 @navbarMenuButtonClickedColor:          #666;
 @navbarMenuButtonClickedBgColor:        #eee;

 // Submenu
 @submenuZIndex:             9999;
 @submenuBgColor:            @navbarBgColor;
 @submenuMinWidth:           10em;
 @submenuItemBorderColor:    #eee;



/** --------------------------------------------------------------
 * Wrapper layout.
 */
.rm-navbar {

    position: relative;

    // Clear the style for ul
    ul {
        list-style: none;
        margin: 0;
        padding: 0;
    }
}



/**
 * Meny layout for the small buttonized menu visble on smaller screens.
 */
.rm-small {

    display: none;
    float: right;
}

a.rm-button {
    display: inline-block;
    color: @navbarMenuButtonColor;
    background-color: @navbarMenuButtonBgColor;
    border: 1px solid @navbarMenuButtonBorderColor;
    border-radius: 4px;
    padding: 4px 6px;
    outline: none;

    //&:hover, // Avoid hover, click, double-tap behaviour
    &:active {
        color: @navbarMenuButtonHoverColor;
        background-color: @navbarMenuButtonHoverBgColor;
        border: 1px solid @navbarMenuButtonHoverBorderColor;
    }

    &.rm-clicked {
        border-color: @navbarMenuButtonClickedBorderColor;
        color: @navbarMenuButtonClickedColor;
        background-color: @navbarMenuButtonClickedBgColor;
    }
}



/**
 * Standard meny layout, valid for any subtype.
 */
.rm-default {
    background-color: @navbarBgColor;
    
    li {
        position: relative; //?
        color: @navbarItemColor;
        display: inline-block;

        // Hover over a menu item
        &:hover {
            color: @navbarItemHoverColor;
            background-color: @navbarItemHoverBgColor;
        }

        // Menu item for submenu
        li {
            display: block;
            min-width: @submenuMinWidth;
        }
    }

    // The link of the menu item
    a {
        display: inherit;
        text-decoration: none;
        color: inherit;
        white-space: nowrap;
        padding: 1em;
        outline: none;
    }

     // The base for the submenu
     ul {
        position: absolute; 
        z-index: @submenuZIndex;
        left: -9999px; 
        background-color: @submenuBgColor; 
        padding: 8px; 

        // Display the submenu, class to use from javascript
        &.rm-show-submenu {
            left: 0;
        }

        li {
            border-left: 4px solid transparent;  
         }
     }
}



/**
 * Menu layout for the desktop variant, usually full width of browser.
 */
.rm-desktop {

    li {
        // Selected/current menu item
        &.rm-selected-parent,  // For submenu
        &.rm-selected {
            color: @navbarItemSelectedColor; 
            background-color: @navbarItemSelectedBgColor; 
            border-color: @navbarItemSelectedBorderColor;
        }

        // Hover over a menu item
        &:hover {
            color: @navbarItemHoverColor;
            background-color: @navbarItemHoverBgColor;

            // To display submenu
            ul {
              left: 0;
            }
        } 
    }
}



/**
 * Menu layout for the mobile variant, usually for mobile screens.
 */
.rm-mobile {
    width: 100%;
    border: 1px solid @navbarMobileBorderColor;
    float: right;
    
    li {
        display: block;
        border: 1px solid @navbarMobileItemBorderColor;

        // All items of the menu
        a:before {
            font-family: FontAwesome;
            content: "\f0da";
            float: right;
        }

        // Header of submenu is closed
        //&.sub-menu, // For WordPress menu generating
        &.rm-submenu > a:before {
            content: "\f0d7";
        }

        // Header of submenu is opened
        &.rm-submenu-open > a:before {
            content: "\f0d8";
        }

        // Display the submenu
        &.rm-submenu-open > ul {
            position: relative;
            left: 0;
        }

        // Menu item for submenu
        li {
            border: none;
            border-top: 1px solid @submenuItemBorderColor;
        }

        // Hover over a menu item
        &:hover {
            border-color: @navbarMobileItemHoverBorderColor;
        } 
    }
}
